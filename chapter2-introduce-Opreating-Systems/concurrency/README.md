# 并发
编写的threads.c 会创建两个线程对counter进行增加

## 输入较小的值执行程序

```
  ./threads 2
```

```
  ./threads 1000
```

返回分别是 4和 2000看似结果是2 * n


## 当和较大的值一起执行时


```
  ./threads 100000
```

```
  ./threads 100000
```

每次结果都不同原因是：
在增加共享计数器的时候，需要3条指令；
1. 将计数器的值从内存加载到寄存器
2. 将寄存器中的数值递增
3. 将寄存器中的数值保存回内存
因为这三条指令不是原子(atomically)方式执行的 所有指令一次性执行，所以会产生不同的结果。